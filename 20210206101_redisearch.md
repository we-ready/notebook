---
id: 20210206101_redisearch
title: redisearch 101
subtitle: 全文搜索在各种 web 应用中，逐渐成为标配。应对大型系统，ES 也许更加适合，而面对中小型项目，redisearch也许是一种更加适合的方案。
subject: redisearch
category: 概念理解
tags: redis;redislabs;redisearch
keywords: 全文搜索;自动补全;反向索引
level: 100
cover: https://oss.redislabs.com/redisearch/img/logo.svg
author: Chis Wei
created_when: 2021-02-06
updated_when: 2021-02-06
---

# redisearch 101

## 参考

- [gitee mirror of redisearch repo](https://gitee.com/mirrors/redisearch)
- [getting started](https://github.com/RediSearch/redisearch-getting-started)
- [redislabs](https://oss.redislabs.com/redisearch/)
- [RU201: RediSearch](https://university.redislabs.com/courses/ru201/)
- [course material](https://github.com/redislabs-training/ru203/blob/main/README.md)

## RU201: RediSearch

> 可以在 `redislabs university` 注册并完成相关课程

### Setting Up RediSearch and Loading the Data

#### 本地环境

1. 启动装有 `docker compose` 的 `VMWare CentOS` 服务器
2. 通过 `XShell` 连接服务器
3. 启动 `redis` 实例（服务器上之前没有相关镜像，启动过程会自动下载并安装，安装需要一些时间。）

```
docker run -it --rm --name redis-search-2 -p 6379:6379  redislabs/redisearch:2.0.5
```

4. 从代码库下载试验数据 `commands.redis`，并上传到服务器

```
# rz
```

5. 加载试验数据

```
docker exec -i redis-search-2 redis-cli < commands.redis > output.txt
```

6. 检查 `output.txt`

```
grep Invalid output.txt
```

> 确保没有任何 `invalid` 数据。（否则，说明环境没有正确安装）

#### 







#### Data Model

```
    Authors
+--------------+
|  name        |               Author-Books
|              |            +----------------+
|  author_id   +------------+  author_id     |
|              |            |                |
+--------------+        +---+  book_isbn     |
                        |   |                |
    Users               |   +----------------+
+--------------+        |
|  first_name  |        |
|              |        |
|  last_name   |        |       Checkouts
|              |        |  +------------------------+
|  email       |   +----|--+  user_id               |
|              |   |    |  |                        |
|  user_id     +---+    +--+  book_isbn             |
|              |        |  |                        |
|  last_login  |        |  |  checkout_date         |
|              |        |  |                        |
+--------------+        |  |  checkout_length_days  |
                        |  |                        |
    Books               |  |  geopoint              |
+--------------+        |  |                        |
|  isbn        +--------+  +------------------------+
|              |
|  title       |
|              |
|  subtitle    |
|              |
|  thumbnail   |
|              |
|  description |
|              |
|  categories  |
|              |
|  authors     |
|              |
|  author_ids  |
|              |
+--------------+
```
